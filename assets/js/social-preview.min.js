(function(a){var d={fb_img_small_width:200,fb_img_small_height:200,fb_img_medium_width:158,fb_img_medium_height:470,fb_img_large_width:600,fb_img_large_height:315,tw_img_small_width:120,tw_img_small_height:506,tw_img_large_width:280,tw_img_large_height:150,init:function(){a(document).on("click","._rss_opengraph-remove-image",function(c){c.preventDefault();a("#_rss_opengraph-image_image .a3_uploader_remove").trigger("click")});a(document).on("click","._rss_twitter-remove-image",function(c){c.preventDefault();
a("#_rss_twitter-image_image .a3_uploader_remove").trigger("click")});a(document).on("click",".icon-tip",function(c){c.preventDefault();c=a(this).data("desc");a("#"+c).toggle()});a(window).on("load",function(){d.rssImageContainer(a('input[name="_rss_opengraph-image"]').val(),"fb");d.rssImageContainer(a('input[name="_rss_twitter-image"]').val(),"tw");d.rssTitleContainer(a('input[name="_rss_opengraph-title"]').val(),"fb");d.rssTitleContainer(a('input[name="_rss_twitter-title"]').val(),"tw");d.rssDescriptionContainer(a('textarea[name="_rss_opengraph-description"]').val(),
"fb");d.rssDescriptionContainer(a('textarea[name="_rss_twitter-description"]').val(),"tw");setTimeout(function(){a(".editable-preview .a3_upload_button").addClass("button-primary");d.changeUploadButton();a("body").addClass("admin-loaded")},100)});a(document).on("change",'input[name="_rss_opengraph-image"]',function(c){c.preventDefault();d.rssImageContainer(a(this).val(),"fb");d.changeUploadButton()});a(document).on("change",'input[name="_rss_twitter-image"]',function(c){c.preventDefault();d.rssImageContainer(a(this).val(),
"tw");d.changeUploadButton()});var b=wp.media.featuredImage.frame();b.on("select",function(){var c=b.state().get("selection").first();a('input[name="_rss_feature_image_full_url"]').val(c.attributes.url);""==a('input[name="_rss_opengraph-image"]').val()&&d.rssImageContainer(c.attributes.url,"fb");""==a('input[name="_rss_twitter-image"]').val()&&d.rssImageContainer(c.attributes.url,"tw")});a("#postimagediv").on("click","#remove-post-thumbnail",function(c){c.preventDefault();a('input[name="_rss_feature_image_full_url"]').val("");
a(document).ajaxComplete(function(){""==a('input[name="_rss_opengraph-image"]').val()&&d.rssImageContainer("","fb");""==a('input[name="_rss_twitter-image"]').val()&&d.rssImageContainer("","tw")})});a(document).on("keyup paste click",'input[name="_rss_opengraph-title"]',function(c){var e=a(this);setTimeout(function(){d.rssTitleContainer(e.val(),"fb")},1)});a(document).on("keyup paste click",'input[name="_rss_twitter-title"]',function(c){var e=a(this);setTimeout(function(){d.rssTitleContainer(e.val(),
"tw")},1)});a(document).on("keyup paste click",'input[name="post_title"], #edittag input[name="name"]',function(c){var e=a(this);setTimeout(function(){""===a('input[name="_rss_opengraph-title"]').val()&&d.rssTitleContainer(e.val(),"fb");""===a('input[name="_rss_twitter-title"]').val()&&d.rssTitleContainer(e.val(),"tw")},1)});a(document).on("keyup paste click",'textarea[name="_rss_opengraph-description"]',function(c){var e=a(this);setTimeout(function(){d.rssDescriptionContainer(e.val(),"fb")},1)});
a(document).on("keyup paste click",'textarea[name="_rss_twitter-description"]',function(c){var e=a(this);setTimeout(function(){d.rssDescriptionContainer(e.val(),"tw")},1)});a(document).on("click","#fbPreview .editable-preview-value-title",function(c){c.preventDefault();a('input[name="_rss_opengraph-title"]').trigger("focus")});a(document).on("click","#fbPreview .editable-preview-value-description",function(c){c.preventDefault();a('textarea[name="_rss_opengraph-description"]').trigger("focus")});a(document).on("click",
"#fbPreview .editable-preview-image",function(c){c.preventDefault();a("input#upload__rss_opengraph-image").trigger("click")});a(document).on("click","#twPreview .editable-preview-value-title",function(c){c.preventDefault();a('input[name="_rss_twitter-title"]').trigger("focus")});a(document).on("click","#twPreview .editable-preview-value-description",function(c){c.preventDefault();a('textarea[name="_rss_twitter-description"]').trigger("focus")});a(document).on("click","#twPreview .editable-preview-image",
function(c){c.preventDefault();a("input#upload__rss_twitter-image").trigger("click")})},isFbTooSmallImage:function(b){return b.width<d.fb_img_small_width||b.height<d.fb_img_small_height},isFbSmallImage:function(b){return b.width<d.fb_img_large_width||b.height<d.fb_img_large_height},getFbMaxImageWidth:function(b){return isSmallImage(b)?d.fb_img_medium_width:d.fb_img_medium_height},isFbPortrait:function(b){return b.height>b.width?"portrait":"landscape"},isTwTooSmallImage:function(b){return!1},isTwSmallImage:function(b){return!1},
rssImageContainer:function(b,c){var e="";e=0<a("#postimagediv #set-post-thumbnail img").length?a('input[name="_rss_feature_image_full_url"]').val():"";"fb"==c&&""===b&&(b=""!==e?e:_rss_social_preview.fb_default_img);"tw"==c&&""===b&&(b=""!==e?e:_rss_social_preview.tw_default_img);if(""!=b)return e=new Image,e.src=b,e.onload=function(){if("fb"==c){a("#fbPreview .social-preview-inner").removeClass("editable-preview-large editable-preview-small editable-preview-portrait");a("#liPreview .social-preview-inner").removeClass("editable-preview-large editable-preview-small editable-preview-portrait");
a("#dcPreview .social-preview-inner").removeClass("editable-preview-large editable-preview-small editable-preview-portrait");if(d.isFbTooSmallImage(this))return a("#fbPreview .social-preview-inner .social-image-placeholder").html(_rss_social_preview.fb_placeholder_error),a("#fbPreview .social-preview-inner .social-image-placeholder").addClass("social-image-placeholder-error").show(),a("#fbPreview .social-preview-inner .editable-preview-image").css({"background-image":""}),a("#liPreview .social-preview-inner .social-image-placeholder").html(_rss_social_preview.fb_placeholder_error),
a("#liPreview .social-preview-inner .social-image-placeholder").addClass("social-image-placeholder-error").show(),a("#liPreview .social-preview-inner .editable-preview-image").css({"background-image":""}),a("#dcPreview .social-preview-inner .social-image-placeholder").html(_rss_social_preview.fb_placeholder_error),a("#dcPreview .social-preview-inner .social-image-placeholder").addClass("social-image-placeholder-error").show(),a("#dcPreview .social-preview-inner .editable-preview-image").css({"background-image":""}),
"error";if(d.isFbSmallImage(this)){if("portrait"===d.isFbPortrait(this))return a("#fbPreview .social-preview-inner .social-image-placeholder").hide(),a("#fbPreview .social-preview-inner").addClass("editable-preview-portrait"),a("#fbPreview .social-preview-inner .editable-preview-image").css({"background-image":"url( "+b+" )"}),a("#liPreview .social-preview-inner .social-image-placeholder").hide(),a("#liPreview .social-preview-inner").addClass("editable-preview-portrait"),a("#liPreview .social-preview-inner .editable-preview-image").css({"background-image":"url( "+
b+" )"}),a("#dcPreview .social-preview-inner .social-image-placeholder").hide(),a("#dcPreview .social-preview-inner").addClass("editable-preview-portrait"),a("#dcPreview .social-preview-inner .editable-preview-image").css({"background-image":"url( "+b+" )"}),"portrait";a("#fbPreview .social-preview-inner .social-image-placeholder").hide();a("#fbPreview .social-preview-inner").addClass("editable-preview-small");a("#fbPreview .social-preview-inner .editable-preview-image").css({"background-image":"url( "+
b+" )"});a("#liPreview .social-preview-inner .social-image-placeholder").hide();a("#liPreview .social-preview-inner").addClass("editable-preview-small");a("#liPreview .social-preview-inner .editable-preview-image").css({"background-image":"url( "+b+" )"});a("#dcPreview .social-preview-inner .social-image-placeholder").hide();a("#dcPreview .social-preview-inner").addClass("editable-preview-small");a("#dcPreview .social-preview-inner .editable-preview-image").css({"background-image":"url( "+b+" )"});
return"small"}a("#fbPreview .social-preview-inner .social-image-placeholder").hide();a("#fbPreview .social-preview-inner").addClass("editable-preview-large");a("#fbPreview .social-preview-inner .editable-preview-image").css({"background-image":"url( "+b+" )"});a("#liPreview .social-preview-inner .social-image-placeholder").hide();a("#liPreview .social-preview-inner").addClass("editable-preview-large");a("#liPreview .social-preview-inner .editable-preview-image").css({"background-image":"url( "+b+
" )"});a("#dcPreview .social-preview-inner .social-image-placeholder").hide();a("#dcPreview .social-preview-inner").addClass("editable-preview-large");a("#dcPreview .social-preview-inner .editable-preview-image").css({"background-image":"url( "+b+" )"});return"large"}if("tw"==c){a("#twPreview .social-preview-inner").removeClass("editable-preview-large editable-preview-small");if(d.isTwTooSmallImage(this))return a("#twPreview .social-preview-inner .social-image-placeholder").show(),a("#twPreview .social-preview-inner").addClass("editable-preview-small"),
a("#twPreview .social-preview-inner .editable-preview-image").css({"background-image":""}),"error";if(d.isTwSmallImage(this))return a("#twPreview .social-preview-inner .social-image-placeholder").hide(),a("#twPreview .social-preview-inner").addClass("editable-preview-small"),a("#twPreview .social-preview-inner .editable-preview-image").css({"background-image":"url( "+b+" )","background-size":"cover","background-position":"center"}),"small";a("#twPreview .social-preview-inner .social-image-placeholder").hide();
a("#twPreview .social-preview-inner").addClass("editable-preview-large");a("#twPreview .social-preview-inner .editable-preview-image").css({"background-image":"url( "+b+" )"});return"large"}},"large";if("fb"==c)return a("#fbPreview .social-preview-inner").removeClass("editable-preview-large editable-preview-small editable-preview-portrait"),a("#fbPreview .social-preview-inner .social-image-placeholder").html(_rss_social_preview.fb_placeholder_msg),a("#fbPreview .social-preview-inner .social-image-placeholder").removeClass("social-image-placeholder-error").show(),
a("#fbPreview .social-preview-inner .editable-preview-image").css({"background-image":""}),a("#liPreview .social-preview-inner").removeClass("editable-preview-large editable-preview-small editable-preview-portrait"),a("#liPreview .social-preview-inner .social-image-placeholder").html(_rss_social_preview.fb_placeholder_msg),a("#liPreview .social-preview-inner .social-image-placeholder").removeClass("social-image-placeholder-error").show(),a("#liPreview .social-preview-inner .editable-preview-image").css({"background-image":""}),
a("#dcPreview .social-preview-inner").removeClass("editable-preview-large editable-preview-small editable-preview-portrait"),a("#dcPreview .social-preview-inner .social-image-placeholder").html(_rss_social_preview.fb_placeholder_msg),a("#dcPreview .social-preview-inner .social-image-placeholder").removeClass("social-image-placeholder-error").show(),a("#dcPreview .social-preview-inner .editable-preview-image").css({"background-image":""}),"error";"tw"==c&&(a("#twPreview .social-preview-inner").removeClass("editable-preview-large editable-preview-large"),
a("#twPreview .social-preview-inner .social-image-placeholder").show(),a("#twPreview .social-preview-inner").addClass("editable-preview-large"),a("#twPreview .social-preview-inner .editable-preview-image").css({"background-image":""}));return"error"},rssTitleContainer:function(b,c){var e="Custom share title";0<a('input[name="post_title"]').length&&(e=a('input[name="post_title"]').val());0<a('#edittag input[name="name"]').length&&(e=a('#edittag input[name="name"]').val());""===b&&(b=e);"fb"==c&&(a("#fbPreview .social-preview-inner .editable-preview-value-title").html(b),
a("#liPreview .social-preview-inner .editable-preview-value-title").html(b),a("#dcPreview .social-preview-inner .editable-preview-value-title").html(b));"tw"==c&&a("#twPreview .social-preview-inner .editable-preview-value-title").html(b)},rssDescriptionContainer:function(b,c){"fb"==c&&(""===b&&(b="This is the share description text."),a("#fbPreview .social-preview-inner .editable-preview-value-description").html(b),a("#liPreview .social-preview-inner .editable-preview-value-description").html(b),
a("#dcPreview .social-preview-inner .editable-preview-value-description").html(b));"tw"==c&&(""===b&&(b=_rss_social_preview.tw_default_desc),a("#twPreview .social-preview-inner .editable-preview-value-description").html(b))},changeUploadButton:function(){""!=a('input[name="_rss_opengraph-image"]').val()?(a("._rss_opengraph-remove-image").removeClass("hidden"),a("#upload__rss_opengraph-image").val(_rss_social_preview.upload_button_other_text)):(a("._rss_opengraph-remove-image").addClass("hidden"),
a("#upload__rss_opengraph-image").val(_rss_social_preview.upload_button_text));""!=a('input[name="_rss_twitter-image"]').val()?(a("._rss_twitter-remove-image").removeClass("hidden"),a("#upload__rss_twitter-image").val(_rss_social_preview.upload_button_other_text)):(a("._rss_twitter-remove-image").addClass("hidden"),a("#upload__rss_twitter-image").val(_rss_social_preview.upload_button_text))}};d.init()})(jQuery);